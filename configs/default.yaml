seed: 42

model:
  name: resnet18
  num_classes: 9
  in_channels: 3
  pretrained: false
  dropout: 0.0

train:
  epochs: 5
  lr: 0.001
  weight_decay: 0.0001
  optimizer: adam
  momentum: 0.9
  nesterov: false
  lr_scheduler: none
  lr_step_size: 5
  lr_gamma: 0.1
  lr_t_max: 5
  lr_eta_min: 0.0
  lr_plateau_mode: min
  lr_plateau_monitor: val_loss
  lr_plateau_factor: 0.1
  lr_plateau_patience: 2
  lr_plateau_min_lr: 0.0
  grad_clip_norm: 0.0
  early_stopping: false
  early_stopping_patience: 3
  early_stopping_min_delta: 0.0
  early_stopping_monitor: val_loss
  early_stopping_mode: min
  device: cuda
  checkpoint_dir: artifacts/checkpoints/default

data:
  dataset: pathmnist
  data_dir: data
  image_size: 224
  batch_size: 32
  num_workers: 0
  use_fake_data: false

eval:
  split: val
  checkpoint_path: artifacts/checkpoints/default/best.pt
  output_dir: artifacts/eval/default
  device: cuda

report:
  output_dir: artifacts/report/default

explain:
  split: val
  checkpoint_path: artifacts/checkpoints/default/best.pt
  output_dir: artifacts/explain/default
  max_samples: 16
  device: cuda
  # Try layer2 first. layer3 is coarser but more semantic.
  target_layer: layer2
  # Visualization settings
  overlay_alpha: 0.55
  save_raw_cam: true
  save_panel: true
